---
import { actions } from "astro:actions";

import PetCard from "@/components/PetCard.astro";
import petDog1 from "@/assets/pet-dog-1.jpg";
import petCat1 from "@/assets/pet-cat-1.jpg";
import petDog2 from "@/assets/pet-dog-2.jpg";
import petCat2 from "@/assets/pet-cat-2.jpg";

const localRecentPets = [
	{
		id: "1",
		name: "Buddy",
		image: petDog1,
		age: "2 years old",
		breed: "Golden Retriever",
		location: "San Francisco, CA",
		type: "dog" as const,
	},
	{
		id: "2",
		name: "Luna",
		image: petCat1,
		age: "1 year old",
		breed: "Orange Tabby",
		location: "Los Angeles, CA",
		type: "cat" as const,
	},
	{
		id: "3",
		name: "Max",
		image: petDog2,
		age: "3 years old",
		breed: "Beagle",
		location: "Seattle, WA",
		type: "dog" as const,
	},
	{
		id: "4",
		name: "Whiskers",
		image: petCat2,
		age: "2 years old",
		breed: "Persian",
		location: "Portland, OR",
		type: "cat" as const,
	},
];

const results = await Astro.callAction(actions.recent_pets, {
	limit: 4,
});

const recentPets = results.data?.pets || [];
---

<section class="py-20 bg-muted/30">
	<div class="container mx-auto px-4">
		<div class="text-center mb-12">
			<h2 class="text-4xl md:text-5xl font-bold mb-4">
				Adoptables Recién Llegados
			</h2>
			<p class="text-xl text-muted-foreground max-w-2xl mx-auto">
				Conoce a algunos de los más nuevos peluditos que buscan por su
				hogar ideal
			</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
			{recentPets.map((pet) => <PetCard {...pet} />)}
		</div>
	</div>
</section>
