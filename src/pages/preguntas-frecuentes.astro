---
// - Accordion implemented with <details>/<summary> + tiny script to mimic "type=single, collapsible"

import Layout from "@/layouts/Layout.astro";

const faqs = [
  {
    question: "¿Cómo adopto una mascota?",
    answer:
      "Navega por las mascotas disponibles en la página 'Encontrar Adoptables'. Cuando encuentres una mascota que te interese, haz clic en 'Solicitar Adopción' en su página de perfil. Necesitarás crear una cuenta y completar una solicitud de adopción. La organización/rescatista responsable del Adoptable revisará tu solicitud y se pondrá en contacto contigo dentro de 2-3 días hábiles.",
  },
  {
    question: "¿Cuál es el proceso de adopción?",
    answer:
      "El proceso de adopción incluye: 1) Enviar una solicitud, 2) Revisión de la solicitud por nuestro equipo, 3) Visita domiciliaria y verificación de referencias, 4) Encuentro y saludo con la mascota, 5) Aprobación final y firma del contrato de adopción, 6) Llevar a tu nuevo miembro de la familia a casa. El proceso completo generalmente toma 7-14 días.",
  },
  {
    question: "¿Hay tarifas de adopción?",
    answer:
      "Depende de la organización o rescatista hay una tarifa de recuperación correspondiente a vacunas y/o esterilización. Esos montos ayudan a continuar el trabajo de rescate y cuidar de más animales necesitados. En la ficha del adoptable cada organización/rescatista hará mención de la respectiva tarifa cuando aplique.",
  },
  {
    question: "¿Qué pasa si mi estilo de vida cambia y ya no puedo cuidar de mi mascota adoptada?",
    answer:
      "Entendemos que las circunstancias pueden cambiar. Si ya no puedes cuidar de tu mascota adoptada, por favor contáctanos inmediatamente. Todas nuestras adopciones vienen con una política de devolución de por vida: siempre aceptaremos de vuelta cualquier animal adoptado de nosotros, sin preguntas. Nunca queremos que nuestros animales terminen en refugios o hogares inadecuados.",
  },
  {
    question: "¿Puedo acoger temporalmente una mascota antes de adoptar?",
    answer:
      "¡Absolutamente! Tenemos un programa de acogida para adoptar que te permite acoger temporalmente una mascota por 2-4 semanas antes de tomar una decisión final de adopción. Esta es una gran manera de asegurar que la mascota sea la adecuada para tu familia y entorno hogareño. Contáctanos para aprender más sobre cómo convertirte en padre de acogida.",
  },
  {
    question: "¿Las mascotas están entrenadas para la casa?",
    answer:
      "Los niveles de entrenamiento varían por animal. El perfil de cada Adoptable incluye información sobre su estado de entrenamiento y comportamiento. Algunas mascotas están completamente entrenadas para la casa, mientras que otras pueden necesitar entrenamiento adicional. Proporcionamos guía y recursos para ayudarte con el entrenamiento, y muchas de nuestras mascotas han estado en hogares de acogida donde han aprendido buenos modales en casa.",
  },
  {
    question: "¿Tienen requisitos específicos para los adoptantes?",
    answer:
      "Sí, los requisitos varían por el Adoptable pero generalmente incluyen: tener 21+ años, tener aprobación del propietario si rentas, estabilidad financiera para el cuidado de mascotas, y compromiso para proporcionar cuidado adecuado. Para perros, podemos requerir un patio cercado. Para gatos, requerimos hogares solo interiores o acceso exterior seguro. El perfil de cada Adoptable se lista cualquier requisito específico.",
  },
  {
    question: "¿Puedo conocer a la mascota antes de aplicar?",
    answer:
      "Recomendamos enviar una solicitud primero. Una vez aprobado, organizaremos un encuentro y saludo en nuestras instalaciones o con la familia de acogida. Esto asegura consultas serias y protege a nuestros animales de estrés innecesario. Sin embargo, puedes asistir a nuestros eventos de adopción para conocer múltiples mascotas sin una solicitud.",
  },
  {
    question: "¿Qué pasa si ya tengo otras mascotas?",
    answer:
      "¡Muchas de nuestras mascotas se llevan bien con otros animales! El perfil de cada mascota indica si son compatibles con perros, gatos u otras mascotas. Durante el proceso de solicitud, discutiremos tus mascotas actuales y podemos organizar un encuentro y saludo para asegurar que todos se lleven bien. Queremos asegurar que sea una buena combinación para todos los animales involucrados.",
  },
  {
    question: "¿Cómo publico a una mascota para adopción?",
    answer:
      "Si necesitas reubicar a tu mascota o has encontrado un animal callejero, necesitas crear una cuenta en la plataforma y en tu panel de usuario veras la opción para publicar un Adoptable. Nuestro equipo verificará la información antes de que este visible en la plataforma, en un lapso de 24-48 horas.",
  },
];
---
<Layout>
  <div class="container mx-auto px-4 py-12">
    <div class="max-w-4xl mx-auto">
      <!-- Card -->
      <section class="border-2 rounded-3xl bg-card text-card-foreground mb-8">
        <header class="p-8 border-b">
          <h1 class="text-4xl text-center font-bold">Preguntas Frecuentes</h1>
          <p class="text-center text-base text-muted-foreground mt-2">
            Todo lo que necesitas saber sobre el uso del sitio de Adoptables
          </p>
        </header>

        <div id="faq-accordion" class="p-6">
          {faqs.map((faq, i) => (
            <details class="group border-b last:border-0" data-accordion-item>
              <summary class="list-none py-4 flex items-center justify-between cursor-pointer select-none text-left text-lg font-semibold">
                <span>{faq.question}</span>
                <svg class="w-5 h-5 transition-transform duration-200 group-open:rotate-180" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </summary>
              <div class="pb-4 text-base text-muted-foreground leading-relaxed">
                {faq.answer}
              </div>
            </details>
          ))}
        </div>
      </section>

      <!-- Secondary card -->
      <section class="border-2 rounded-3xl bg-primary/5">
        <header class="p-8">
          <h2 class="text-2xl text-center font-bold">¿Aún tienes dudas?</h2>
          <p class="text-center text-muted-foreground mt-2">
            Envía un correo electrónico a <a href="mailto:hola@adoptables.mx" class="text-primary font-semibold hover:underline">hola@adoptables.mx</a>
            o escríbenos por Whatsapp <a href="tel:+15551234567" class="text-primary font-semibold hover:underline">(555) 123-4567</a>
          </p>
        </header>
      </section>
    </div>
  </div>
</Layout>

<!-- Make the accordion behave like type="single" collapsible -->
<script is:inline>
  const container = document.getElementById('faq-accordion');
  if (container) {
    container.addEventListener('toggle', (e) => {
      const target = e.target;
      if (!(target instanceof HTMLDetailsElement) || !target.open) return;
      // Close others
      for (const el of container.querySelectorAll('details[open]')) {
        if (el !== target) el.removeAttribute('open');
      }
    }, true);
  }
</script>
