---
import Layout from "@/layouts/Layout.astro";
import { ArrowLeft, Calendar, Share2, User } from "@lucide/astro";

// URL param
const { slug } = Astro.params;
console.log(slug);

// TODO: fetch blog data using the slug
---
<Layout>
    {/* Hero Image */}
    <div class="relative h-[400px] md:h-[500px] overflow-hidden">
        <img
        src="https://images.unsplash.com/photo-1548199973-03cce0bbc87b?w=1200&h=800&fit=crop"
        alt="Mejores Practicas para el Bienestar de tu Compañero Peludo"
        class="w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-background to-transparent" />
    </div>

    {/* Article Content */}
        <article class="container mx-auto px-4 -mt-20 relative z-10">
        <!-- bg-card text-card-foreground shadow-sm max-w-4xl mx-auto p-8 md:p-12 rounded-3xl border-2 -->
          <div class="bg-card text-card-foreground shadow-sm max-w-4xl mx-auto p-8 md:p-12 rounded-3xl border-2">
            {/* Header */}
            <div class="mb-8">
              <a href="/blog" class="rounded-full mb-6 -ml-4 inline-flex items-center">
                  <ArrowLeft class="mr-2 w-4 h-4" />
                  Volver al Blog
              </a>
              <div class="mb-4">
                <span class="bg-primary text-primary-foreground px-4 py-1.5 rounded-full text-sm font-semibold">
                  categoria
                </span>
              </div>

              <h1 class="text-4xl md:text-5xl font-bold mb-6">
                Mejores Practicas para el Bienestar de tu Compañero Peludo
              </h1>

              <div class="flex items-center gap-6 text-muted-foreground mb-6">
                <div class="flex items-center gap-2">
                  <User class="w-5 h-5" />
                  <span class="font-medium">Dr. Mariam Soto</span>
                </div>
                <div class="flex items-center gap-2">
                  <Calendar class="w-5 h-5" />
                  <span>Mayo 15, 2025</span>
                </div>
              </div>

              <button id="share-btn"
                class="rounded-full inline-flex items-center cursor-pointer"
              >
                <Share2 class="w-4 h-4 mr-2" />
                Comparte el artículo
              </button>
            </div>

            {/* Content */}
            <div
              class="prose prose-lg max-w-none prose-headings:font-bold prose-h2:text-3xl prose-h2:mt-8 prose-h2:mb-4 prose-p:text-muted-foreground prose-p:leading-relaxed prose-ul:text-muted-foreground prose-li:my-2"
            >
                contenido aqui (en construcción)...
            </div>
          </div>

          {/* Related Posts */}
          <div class="max-w-4xl mx-auto mt-16 mb-20">
            <h2 class="text-3xl font-bold mb-8">Otros Artículos</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                Pronto...
            </div>
          </div>
    </article>
</Layout>

<script>
 function handleShare() {
    if (navigator.share) {
        navigator.share({
        title: "post title",
        text: "post.excerpt",
        url: window.location.href,
        }).catch(() => {
        // Fallback if share fails
        navigator.clipboard.writeText(window.location.href);
        //toast.success("Link copied to clipboard!");
        });
    } else {
        navigator.clipboard.writeText(window.location.href);
        //toast.success("Link copied to clipboard!");
    }
};

// Get the button element
const shareBtn = document.getElementById('share-btn');

// Attach the click event listener
if (shareBtn) {
    shareBtn.addEventListener('click', handleShare);
}
</script>
